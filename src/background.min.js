function launchSite(e=""){tabs.create(homePage+e)}runtime.onInstalled.addListener(async e=>{let t=await sync.get(keys);if(e.reason,"update"==e.reason){e.previousVersion,runtime.getManifest().version;launchSite()}let s=[];null==t.textSize&&s.push(sync.set({textSize:defaultTextSize})),null==t.lineHeight&&s.push(sync.set({lineHeight:defaultLineHeight})),null==t.onOff&&s.push(sync.set({onOff:!0})),null==t.font&&s.push(sync.set({font:defaultFont})),null==t.whitelisted&&s.push(sync.set({whitelisted:[]})),null==t.customSettings&&s.push(sync.set({customSettings:[]})),null==t.customFonts&&s.push(sync.set({customFonts:[]})),await Promise.all(s),t=await sync.get(keys),(await tabs.queryAllTabs()).forEach(e=>{if(t.onOff){const t={reason:reasonUpdateAllText};tabs.sendMessage(e.id,t)}})});