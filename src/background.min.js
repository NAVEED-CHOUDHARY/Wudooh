runtime.onInstalled.addListener(async t=>{"update"==t.reason&&tabs.create("https://wudooh.app/updated");let e=await sync.get(keys),s=[];null==e.textSize&&s.push(sync.set({textSize:defaultTextSize})),null==e.lineHeight&&s.push(sync.set({lineHeight:defaultLineHeight})),null==e.onOff&&s.push(sync.set({onOff:!0})),null==e.font&&s.push(sync.set({font:defaultFont})),null==e.whitelisted&&s.push(sync.set({whitelisted:[]})),null==e.customSettings&&s.push(sync.set({customSettings:[]})),null==e.customFonts&&s.push(sync.set({customFonts:[]})),await Promise.all(s),e=await sync.get(keys),(await tabs.queryAllTabs()).forEach(t=>{if(e.onOff){const e={reason:reasonUpdateAllText};tabs.sendMessage(t.id,e)}})});